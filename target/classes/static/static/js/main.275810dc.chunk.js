(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{161:function(e,t,n){e.exports=n(313)},167:function(e,t,n){},313:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(7),c=n.n(o),i=(n(166),n(141)),l=n(142),u=n(157),m=n(143),s=n(158),d=function(e){return r.a.createElement("div",{style:{width:"1300px",margin:"0 auto",textAlign:"center"}},e.children)},p=n(315),y=n(21),h=(n(167),function(e){return r.a.createElement("div",{className:"footer"},r.a.createElement(d,null,void 0!==e.numberOfItems?r.a.createElement(p.a,{style:{backgroundColor:"#f56a00",marginRight:"5px"},size:"large"},e.numberOfItems):null,r.a.createElement(y.a,{onClick:function(){return e.handleAddItemClickEvent()},type:"primary"},"Add new Item +")))}),f=n(82),E=function(){return Object(f.a)("api/items").then(I)},g=function(e){return Object(f.a)("api/items/".concat(e),{method:"DELETE"}).then(I)},I=function(e){if(e.ok)return e;var t=new Error(e.statusText);return t.response=e,e.json().then(function(e){t.error=e}),Promise.reject(t)},v=n(159),b=n(156),w=n(60),k=n(321),A=n(318),C={marginBottom:"10px"},T=Object(v.a)({backgroundColor:"#f50",color:"white"},C),O=w.a.Option,S=function(e){return r.a.createElement(b.a,{initialValues:{currencyType:"",amount:"",createdAt:"",walletLocation:""},validate:function(e){var t={};return e.walletLocation||(t.walletLocation="Wallet location Required"),e.amount?e.amount<0&&(t.amount="Positive number Required"):t.amount="Amount Required",e.createdAt||(t.createdAt="Date of purchase Required"),e.currencyType?["Bitcoin","Ethereum","Ripple"].includes(e.currencyType)||(t.currencyType="Cryptocurrency must be (Bitcoin or Ethereum or Ripple)"):t.currencyType="Cryptocurrency Required",t},onSubmit:function(t,n){var a,r=n.setSubmitting;(a=t,Object(f.a)("api/items",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(a)}).then(I)).then(function(){e.onSuccess()}).catch(function(t){e.onFailure(t)}).finally(function(){r(!1)})}},function(e){var t=e.values,n=e.errors,a=e.touched,o=e.handleChange,c=e.handleBlur,i=e.handleSubmit,l=e.isSubmitting,u=e.submitForm,m=e.setFieldTouched,s=e.setFieldValue,d=e.isValid;return r.a.createElement("form",{onSubmit:i},r.a.createElement("h6",null,"Please enter Cryptocurrency"),r.a.createElement(w.a,{placeholder:"Please enter Cryptocurrency",style:C,onChange:function(e){return s("currencyType",e)},onBlur:function(){return m("currencyType",!0)},value:t.currencyType},r.a.createElement(O,{key:1,value:"Ripple"},"Ripple"),r.a.createElement(O,{key:2,value:"Ethereum"},"Ethereum"),r.a.createElement(O,{key:3,value:"Bitcoin"},"Bitcoin")),n.currencyType&&a.currencyType&&r.a.createElement(k.a,{style:T},n.currencyType),r.a.createElement(A.a,{style:C,name:"amount",type:"number",onChange:o,onBlur:c,value:t.amount,placeholder:"Please enter an amount"}),n.amount&&a.amount&&r.a.createElement(k.a,{style:T},n.amount),r.a.createElement(A.a,{style:C,name:"createdAt",type:"date",onKeyDown:function(e){return e.preventDefault()},onChange:o,onBlur:c,value:t.createdAt,placeholder:"Date of purchase"}),n.email&&a.email&&r.a.createElement(k.a,{style:T},n.email),r.a.createElement(A.a,{style:C,name:"walletLocation",type:"text",onChange:o,onBlur:c,value:t.walletLocation,placeholder:"Wallet Location"}),n.walletLocation&&a.walletLocation&&r.a.createElement(k.a,{style:T},n.walletLocation),r.a.createElement(y.a,{onClick:function(){return u()},type:"submit",disabled:l|(a&&!d)},"Submit"))})},x=n(8),j=n(320),B=n(319),L=n(151),R=n(316),M=n(317),F=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={items:[],isFetching:!1,isAddItemModalVisisble:!1},n.openAddItemModal=function(){return n.setState({isAddItemModalVisisble:!0})},n.closeAddItemModal=function(){return n.setState({isAddItemModalVisisble:!1})},n.openNotificationWithIcon=function(e,t,n){return j.a[e]({message:t,description:n})},n.fetchItems=function(){n.setState({isFetching:!0}),E().then(function(e){return e.json().then(function(e){console.log(e),n.setState({items:e,isFetching:!1})})})},n.deleteItem=function(e,t){g(e).then(function(){n.openNotificationWithIcon("success","Item deleted","".concat(t," was deleted")),n.fetchItems()}).catch(function(e){n.openNotificationWithIcon("error","error","(".concat(e.error.status,") ").concat(e.error.error))})},n}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchItems()}},{key:"render",value:function(){var e=this,t=this.state,n=t.items,o=t.isFetching,c=t.isAddItemModalVisisble,i=function(){return r.a.createElement("div",null,r.a.createElement(B.a,{title:"Add new Item",visible:c,onOk:e.closeAddItemModal,onCancel:e.closeAddItemModal,width:1e3},r.a.createElement(S,{onSuccess:function(){e.closeAddItemModal(),e.fetchItems()},onFailure:function(t){var n=t.error.message,a=t.error.httpStatus;e.openNotificationWithIcon("error",n,a)}})),r.a.createElement(h,{numberOfItems:n.length,handleAddItemClickEvent:e.openAddItemModal}))};if(o)return r.a.createElement(d,null,r.a.createElement(L.a,{indicator:r.a.createElement(x.a,{type:"loading",style:{fontSize:24},spin:!0})}));if(n&&n.length){var l=[{title:"Cryptocurrency",dataIndex:"currencyType",key:"currencyType"},{title:"Amount",dataIndex:"amount",key:"amount"},{title:"Date of purchase",dataIndex:"createdAt",key:"createdAt"},{title:"Wallet Location",dataIndex:"walletLocation",key:"walletLocation"},{title:"Current market value (EUR)",dataIndex:"marketPrice",key:"marketPrice"},{title:"Option",key:"action",render:function(t,n){return r.a.createElement(a.Fragment,null,r.a.createElement(R.a,{placement:"topRight",title:"Are you sure to delete ".concat(n.currencyType),onConfirm:function(){return e.deleteItem(n.itemId,n.currencyType)},okText:"Yes",cancelText:"No",onCancel:function(e){return e.stopPropagation()}},r.a.createElement(y.a,{type:"danger",onClick:function(e){return e.stopPropagation()}},"Delete")))}}];return r.a.createElement(d,null,r.a.createElement(M.a,{style:{marginBottom:"100px"},dataSource:n,columns:l,pagination:!1,rowKey:"itemId"}),i())}return r.a.createElement(d,null,r.a.createElement("h1",{style:{color:"#f56a00"}},"No portfolio items found"),i())}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[161,1,2]]]);
//# sourceMappingURL=main.275810dc.chunk.js.map